<!DOCTYPE html>
<html lang="en">
<head>
    <script type="module" src="/js/theme-loader.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HarmonyTunes | un</title>
    <meta name="description" content="Your daily dose of trending music.">
    
    <link rel="icon" type="image/png" href="/images/dreams-favicon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/themes.css">
    <link rel="stylesheet" href="/css/harmonytunes.css">
</head>
<body>

    <header class="main-header"></header>

    <div class="spotify-layout">
        <aside class="sidebar">
            <div class="sidebar-section">
                <h4>Playlists</h4>
                <ul id="playlist-list">
                    <li class="active-playlist" data-playlist="main">Available Tracks</li>
                    <li data-playlist="favorites">My Favorites</li>
                </ul>
            </div>
        </aside>

        <main class="harmony-main">
            <div class="playlist-header">
                 <img src="/images/harmony-tunes-card.jpg" alt="Album Art" class="album-art">
                <div class="playlist-details">
                    <h1 id="playlist-title">Available Tracks</h1>
                    <h2 id="playlist-subtitle">Unstoppable Media</h2>
                    <p id="playlist-desc">The official library of available music files.</p>
                    <button id="share-playlist-btn">Share</button>
                </div>
            </div>
            <div class="song-list-container">
                <table class="song-table">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Title</th>
                            <th>Artist</th>
                            <th>Duration</th>
                        </tr>
                    </thead>
                    <tbody id="song-list-body">
                        </tbody>
                </table>
            </div>
        </main>
    </div>

    <div class="music-player-bar">
        <div class="player-background"></div>
        
        <div class="current-song-details">
            <img src="/images/harmony-tunes-card.jpg" alt="Current Album Art" id="player-album-art">
            <div>
                <p id="player-song-title">Select a song</p>
                <p id="player-song-artist">...</p>
            </div>
        </div>

        <div class="player-controls">
            <div class="controls">
                <button class="control-button" id="shuffle-btn" title="Shuffle">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 3 21 3 21 8"></polyline><line x1="4" y1="20" x2="21" y2="3"></line><polyline points="16 21 21 21 21 16"></polyline><line x1="15" y1="15" x2="21" y2="21"></line><line x1="4" y1="4" x2="9" y2="9"></line></svg>
                </button>
                <button class="control-button" id="prev-btn" title="Previous">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="19 20 9 12 19 4 19 20"></polygon><line x1="5" y1="19" x2="5" y2="5"></line></svg>
                </button>
                <button class="control-button play-pause-btn" id="play-pause-btn" title="Play/Pause">
                    <svg class="play-icon" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="currentColor"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
                    <svg class="pause-icon" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="currentColor" style="display: none;"><rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect></svg>
                </button>
                <button class="control-button" id="next-btn" title="Next">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="5 4 15 12 5 20 5 4"></polygon><line x1="19" y1="5" x2="19" y2="19"></line></svg>
                </button>
                <button class="control-button" id="repeat-btn" title="Repeat">
                     <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="17 1 21 5 17 9"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14"></path><polyline points="7 23 3 19 7 15"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3"></path></svg>
                </button>
            </div>
            
            <div class="progress-bar-container">
                <span class="current-time">0:00</span>
                <div class="progress-bar">
                    <div class="progress"></div>
                </div>
                <span class="total-time">0:00</span>
            </div>
        </div>

        <div class="volume-container">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon></svg>
            <input type="range" class="volume-slider" min="0" max="1" step="0.01" value="1">
        </div>
    </div>
    
    <audio id="audio-player"></audio>

    <script type="module">
        import { loadNavbar } from '/js/navbar.js';
        document.addEventListener('DOMContentLoaded', loadNavbar);
    </script>
    
    <script type="module" src="/js/harmonytunes.js"></script>
    
</body>
</html>